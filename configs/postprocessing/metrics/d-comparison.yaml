model : d-comparison
min_diff : -50
max_diff : 5
threshold_min_value : -5
thrashold_min_area : 50

resolution : 2.5
real_patch_size_plot : 500
nb_jobs : 10
seed : 12345
date_column : lidar_acquisition_date
print_config : True
resampling_method_pred : max
nb_plots : 50

data_dir : /lustre/fsn1/projects/rech/ego/uof45xi/data/
save_dir : ${data_dir}/logs/metrics/diff_map/${model}
output_path_xlsx : ${save_dir}/metrics_${model}.xlsx
grouping_dates : lidar_acquisition_date
version_prediction : test_diff_map
version_metrics : test_diff_map

geometries_path : ${data_dir}/logs/pred_sera/d-sera_d_huber_loss/${version_prediction}/predictions/predict_gdf.geojson

hydra:
  run:
    dir: ${save_dir}
  output_subdir : hydra_logs

get_images : 
  _target_ : src.postprocessing.metrics.get_images_utils.get_images
  image_loaded_set:
    sentinel_rgb_t1 :
      _target_: src.postprocessing.metrics.get_images_utils.input_image_loader
      path: ${data_dir}/sentinel/timeseries/diff_map/lidar_date_<date>/s2/s2_vrts
      resolution: null
      resampling_method: bilinear
      open_even_oob: True
      channel_to_keep: [2,1,0]
      grouping_dates: lidar_acquisition_date_t1

    sentinel_rgb_t2 :
      _target_: src.postprocessing.metrics.get_images_utils.input_image_loader
      path: ${data_dir}/sentinel/timeseries/diff_map/lidar_date_<date>/s2/s2_vrts
      resolution: null
      resampling_method: bilinear
      open_even_oob: True
      channel_to_keep: [2,1,0]
      grouping_dates: lidar_acquisition_date_t2

    difference_pred_huber_loss : 
      _target_: src.postprocessing.metrics.get_images_utils.output_image_loader
      path: ${data_dir}/logs/pred_sera/d-sera_d_huber_loss/${version_prediction}/predictions/data/d-sera_d_huber_loss_full.vrt
      resolution: ${resolution}
      resampling_method: ${resampling_method_pred}
      scaling_factor: 1
      min_image: ${min_diff}
      max_image: ${max_diff}
      open_even_oob: False
      max_date: null
      min_date: null
      grouping_dates: null
    
    difference_pred_true_changes : 
      _target_: src.postprocessing.metrics.get_images_utils.output_image_loader
      path: ${data_dir}/logs/pred_sera/d-sera_d_true_changes/${version_prediction}/predictions/data/d-sera_d_true_changes_full.vrt
      resolution: ${resolution}
      resampling_method: ${resampling_method_pred}
      scaling_factor: 1
      min_image: ${min_diff}
      max_image: ${max_diff}
      open_even_oob: False
      max_date: null
      min_date: null
      grouping_dates: null

    difference_pred_gc_loss : 
      _target_: src.postprocessing.metrics.get_images_utils.output_image_loader
      path: ${data_dir}/logs/pred_sera/d-sera_d_gc_loss/${version_prediction}/predictions/data/d-sera_d_gc_loss_full.vrt
      resolution: ${resolution}
      resampling_method: ${resampling_method_pred}
      scaling_factor: 1
      min_image: ${min_diff}
      max_image: ${max_diff}
      open_even_oob: False
      max_date: null
      min_date: null
      grouping_dates: null

    difference_pred_gc_loss_denoised : 
      _target_: src.postprocessing.metrics.get_images_utils.output_image_loader
      path: ${data_dir}/logs/pred_sera/d-sera_d_gc_loss_denoised/${version_prediction}/predictions/data/d-sera_d_gc_loss_denoised_full.vrt
      resolution: ${resolution}
      resampling_method: ${resampling_method_pred}
      scaling_factor: 1
      min_image: ${min_diff}
      max_image: ${max_diff}
      open_even_oob: False
      max_date: null
      min_date: null
      grouping_dates: null

    height_pred_diff_h_sera_t1 : 
      _target_: src.postprocessing.metrics.get_images_utils.output_image_loader
      path: ${data_dir}/logs/pred_sera/diff_h-sera_h_max/${version_prediction}/predictions_t1/data/diff_h-sera_h_max_full.vrt
      resolution: ${resolution}
      resampling_method: ${resampling_method_pred}
      scaling_factor: 1
      min_image: ${min_diff}
      max_image: ${max_diff}
      open_even_oob: False
      max_date: null
      min_date: null
      grouping_dates: null
    
    height_pred_diff_h_sera_t2  : 
      _target_: src.postprocessing.metrics.get_images_utils.output_image_loader
      path: ${data_dir}/logs/pred_sera/diff_h-sera_h_max/${version_prediction}/predictions_t2/data/diff_h-sera_h_max_full.vrt
      resolution: ${resolution}
      resampling_method: ${resampling_method_pred}
      scaling_factor: 1
      min_image: ${min_diff}
      max_image: ${max_diff}
      open_even_oob: False
      max_date: null
      min_date: null
      grouping_dates: null

    height_target_t1 : 
      _target_: src.postprocessing.metrics.get_images_utils.output_image_loader
      path: ${data_dir}/lidar/<year>/lidar.vrt
      resolution: ${resolution}
      resampling_method: max
      scaling_factor: 1
      min_image: null
      max_image: null
      open_even_oob: False
      max_date: null
      min_date: null
      grouping_dates: lidar_acquisition_date_t1

    height_target_t2 : 
      _target_: src.postprocessing.metrics.get_images_utils.output_image_loader
      path: ${data_dir}/lidar/<year>/lidar.vrt
      resolution: ${resolution}
      resampling_method: max
      scaling_factor: 1
      min_image: null
      max_image: null
      open_even_oob: False
      max_date: null
      min_date: null
      grouping_dates: lidar_acquisition_date_t2
      
    height_pred_open_canopy_t1 : 
      _target_: src.postprocessing.metrics.get_images_utils.output_image_loader
      path: ${data_dir}/martin/open_canopy_france_grided/<year>_grided/full.vrt 
      resolution: ${resolution}
      resampling_method: ${resampling_method_pred}
      scaling_factor: 0.1
      min_image: null
      max_image: null
      open_even_oob: False
      max_date: null
      min_date: null
      grouping_dates: lidar_acquisition_date_t1
    
    height_pred_open_canopy_t2  : 
      _target_: src.postprocessing.metrics.get_images_utils.output_image_loader
      path: ${data_dir}/martin/open_canopy_france_grided/<year>_grided/full.vrt
      resolution: ${resolution}
      resampling_method: ${resampling_method_pred}
      scaling_factor: 0.1
      min_image: null
      max_image: null
      open_even_oob: False
      max_date: null
      min_date: null
      grouping_dates: lidar_acquisition_date_t2

    height_pred_open_canopy_denoised_t1 : 
      _target_: src.postprocessing.metrics.get_images_utils.output_image_loader
      path: ${data_dir}/martin/open_canopy_denoised/<year>/full.vrt
      resolution: ${resolution}
      resampling_method: ${resampling_method_pred}
      scaling_factor: 1
      min_image: null
      max_image: null
      open_even_oob: False
      max_date: null
      min_date: null
      grouping_dates: lidar_acquisition_date_t1
    
    height_pred_open_canopy_denoised_t2  : 
      _target_: src.postprocessing.metrics.get_images_utils.output_image_loader
      path: ${data_dir}/martin/open_canopy_denoised/<year>/full.vrt
      resolution: ${resolution}
      resampling_method: ${resampling_method_pred}
      scaling_factor: 1
      min_image: null
      max_image: null
      open_even_oob: False
      max_date: null
      min_date: null
      grouping_dates: lidar_acquisition_date_t2

  image_computed_set:

    difference_target :
      _target_: src.postprocessing.metrics.get_images_utils.difference_computer
      input_name_1: height_target_t1
      input_name_2: height_target_t2
      min_image: ${min_diff}
      max_image: ${max_diff}

    difference_pred_diff_h_sera :
      _target_: src.postprocessing.metrics.get_images_utils.difference_computer
      input_name_1: height_pred_diff_h_sera_t1
      input_name_2: height_pred_diff_h_sera_t2
      min_image: ${min_diff}
      max_image: ${max_diff}

    difference_pred_open_canopy :
      _target_: src.postprocessing.metrics.get_images_utils.difference_computer
      input_name_1: height_pred_open_canopy_t1
      input_name_2: height_pred_open_canopy_t2
      min_image: ${min_diff}
      max_image: ${max_diff}

    difference_pred_open_canopy_denoised :
      _target_: src.postprocessing.metrics.get_images_utils.difference_computer
      input_name_1: height_pred_open_canopy_denoised_t1
      input_name_2: height_pred_open_canopy_denoised_t2
      min_image: ${min_diff}
      max_image: ${max_diff}


    change_threshold_hubers_loss_pred :
      _target_: src.postprocessing.metrics.get_images_utils.change_threshold_computer
      input_name: difference_pred_huber_loss
      threshold: ${threshold_min_value}
      min_area: ${thrashold_min_area}

    change_threshold_true_changes_pred :
      _target_: src.postprocessing.metrics.get_images_utils.change_threshold_computer
      input_name: difference_pred_true_changes
      threshold: ${threshold_min_value}
      min_area: ${thrashold_min_area}

    change_threshold_gc_loss_pred :
      _target_: src.postprocessing.metrics.get_images_utils.change_threshold_computer
      input_name: difference_pred_gc_loss
      threshold: ${threshold_min_value}
      min_area: ${thrashold_min_area}

    change_threshold_gc_loss_denoised_pred :
      _target_: src.postprocessing.metrics.get_images_utils.change_threshold_computer
      input_name: difference_pred_gc_loss_denoised
      threshold: ${threshold_min_value}
      min_area: ${thrashold_min_area}

    change_threshold_diff_h_sera_pred :
      _target_: src.postprocessing.metrics.get_images_utils.change_threshold_computer
      input_name: difference_pred_diff_h_sera
      threshold: ${threshold_min_value}
      min_area: ${thrashold_min_area}


    change_threshold_open_canopy_pred :
      _target_: src.postprocessing.metrics.get_images_utils.change_threshold_computer
      input_name: difference_pred_open_canopy
      threshold: ${threshold_min_value}
      min_area: ${thrashold_min_area}

    change_threshold_open_canopy_denoised_pred :
      _target_: src.postprocessing.metrics.get_images_utils.change_threshold_computer
      input_name: difference_pred_open_canopy_denoised
      threshold: ${threshold_min_value}
      min_area: ${thrashold_min_area}

    change_threshold_target :
      _target_: src.postprocessing.metrics.get_images_utils.change_threshold_computer
      input_name: difference_target
      threshold: ${threshold_min_value}
      min_area: ${thrashold_min_area}

  
get_metrics_local : null
get_metrics_global : null

get_plots_local: 
  _target_: src.postprocessing.metrics.get_plots_local_utils.get_plots_local
  save_dir : ${save_dir}/${version_metrics}_figures
  nb_plots: ${nb_plots}
  model_name : ${model}
  plot_set :
    diff_comparison :
      _target_ : src.postprocessing.metrics.get_plots_local_utils.plot_model
      nb_row: 4
      nb_col : 3
      size_plot_width: 25
      size_plot_height: 32
      graph_list : 
        - _target_: src.postprocessing.metrics.get_plots_local_utils.graph_model
          idx_row: 0
          idx_col: 0
          graph_title: "Sentinel RGB t1"
          grouping_dates: lidar_acquisition_date_t1
          method_graph: 
            _target_: src.postprocessing.metrics.get_plots_local_utils.method_imshow 
            image_name : sentinel_rgb_t1
            real_patch_size: ${real_patch_size_plot}
            resolution: 10
        - _target_: src.postprocessing.metrics.get_plots_local_utils.graph_model
          idx_row: 0
          idx_col: 1
          graph_title: "Sentinel RGB t2"
          grouping_dates: lidar_acquisition_date_t2
          method_graph: 
            _target_: src.postprocessing.metrics.get_plots_local_utils.method_imshow 
            image_name : sentinel_rgb_t2
            real_patch_size: ${real_patch_size_plot}
            resolution: 10
        - _target_: src.postprocessing.metrics.get_plots_local_utils.graph_model
          idx_row: 0
          idx_col: 2
          graph_title: "Target"
          grouping_dates: null
          method_graph: 
            _target_: src.postprocessing.metrics.get_plots_local_utils.method_imshow 
            image_name : difference_target
            real_patch_size: ${real_patch_size_plot}
            resolution: ${resolution}
            cmap: RdYlGn
            norm : 
              _target_: matplotlib.colors.TwoSlopeNorm
              vmin: ${min_diff}
              vcenter: 0
              vmax: ${max_diff}
        - _target_: src.postprocessing.metrics.get_plots_local_utils.graph_model
          idx_row: 1
          idx_col: 0
          graph_title: "Huber loss"
          grouping_dates: null
          method_graph: 
            _target_: src.postprocessing.metrics.get_plots_local_utils.method_imshow 
            image_name : difference_pred_huber_loss
            real_patch_size: ${real_patch_size_plot}
            resolution: ${resolution}
            cmap: RdYlGn
            norm : 
              _target_: matplotlib.colors.TwoSlopeNorm
              vmin: ${min_diff}
              vcenter: 0
              vmax: ${max_diff}
        - _target_: src.postprocessing.metrics.get_plots_local_utils.graph_model
          idx_row: 1
          idx_col: 1
          graph_title: "True changes"
          grouping_dates: null
          method_graph: 
            _target_: src.postprocessing.metrics.get_plots_local_utils.method_imshow 
            image_name : difference_pred_true_changes
            real_patch_size: ${real_patch_size_plot}
            resolution: ${resolution}
            cmap: RdYlGn
            norm : 
              _target_: matplotlib.colors.TwoSlopeNorm
              vmin: ${min_diff}
              vcenter: 0
              vmax: ${max_diff}
        - _target_: src.postprocessing.metrics.get_plots_local_utils.graph_model
          idx_row: 1
          idx_col: 2
          graph_title: "GC loss"
          grouping_dates: null
          method_graph: 
            _target_: src.postprocessing.metrics.get_plots_local_utils.method_imshow 
            image_name : difference_pred_gc_loss
            real_patch_size: ${real_patch_size_plot}
            resolution: ${resolution}
            cmap: RdYlGn
            norm : 
              _target_: matplotlib.colors.TwoSlopeNorm
              vmin: ${min_diff}
              vcenter: 0
              vmax: ${max_diff}
        - _target_: src.postprocessing.metrics.get_plots_local_utils.graph_model
          idx_row: 2
          idx_col: 0
          graph_title: "GC loss denoised"
          grouping_dates: null
          method_graph: 
            _target_: src.postprocessing.metrics.get_plots_local_utils.method_imshow 
            image_name : difference_pred_gc_loss_denoised
            real_patch_size: ${real_patch_size_plot}
            resolution: ${resolution}
            cmap: RdYlGn
            norm : 
              _target_: matplotlib.colors.TwoSlopeNorm
              vmin: ${min_diff}
              vcenter: 0
              vmax: ${max_diff}
        - _target_: src.postprocessing.metrics.get_plots_local_utils.graph_model
          idx_row: 2
          idx_col: 1
          graph_title: "Diff h-sera"
          grouping_dates: null
          method_graph: 
            _target_: src.postprocessing.metrics.get_plots_local_utils.method_imshow 
            image_name : difference_pred_diff_h_sera
            real_patch_size: ${real_patch_size_plot}
            resolution: ${resolution}
            cmap: RdYlGn
            norm : 
              _target_: matplotlib.colors.TwoSlopeNorm
              vmin: ${min_diff}
              vcenter: 0
              vmax: ${max_diff}
        - _target_: src.postprocessing.metrics.get_plots_local_utils.graph_model
          idx_row: 2
          idx_col: 2
          graph_title: "Open Canopy"
          grouping_dates: null
          method_graph: 
            _target_: src.postprocessing.metrics.get_plots_local_utils.method_imshow 
            image_name : difference_pred_open_canopy
            real_patch_size: ${real_patch_size_plot}
            resolution: ${resolution}
            cmap: RdYlGn
            norm : 
              _target_: matplotlib.colors.TwoSlopeNorm
              vmin: ${min_diff}
              vcenter: 0
              vmax: ${max_diff}
        - _target_: src.postprocessing.metrics.get_plots_local_utils.graph_model
          idx_row: 3
          idx_col: 0
          graph_title: "Open Canopy Denoised"
          grouping_dates: null
          method_graph: 
            _target_: src.postprocessing.metrics.get_plots_local_utils.method_imshow 
            image_name : difference_pred_open_canopy_denoised
            real_patch_size: ${real_patch_size_plot}
            resolution: ${resolution}
            cmap: RdYlGn
            norm : 
              _target_: matplotlib.colors.TwoSlopeNorm
              vmin: ${min_diff}
              vcenter: 0
              vmax: ${max_diff}

    change_comparison :
      _target_ : src.postprocessing.metrics.get_plots_local_utils.plot_model
      nb_row: 3
      nb_col : 3
      size_plot_width: 25
      size_plot_height: 22
      graph_list : 
        - _target_: src.postprocessing.metrics.get_plots_local_utils.graph_model
          idx_row: 0
          idx_col: 0
          graph_title: "Huber loss"
          grouping_dates: null
          method_graph: 
            _target_: src.postprocessing.metrics.get_plots_local_utils.method_imshow 
            image_name : change_threshold_hubers_loss_pred
            real_patch_size: ${real_patch_size_plot}
            resolution: ${resolution}
            cmap: Reds
            norm: null
        - _target_: src.postprocessing.metrics.get_plots_local_utils.graph_model
          idx_row: 0
          idx_col: 1
          graph_title: "True changes"
          grouping_dates: null
          method_graph: 
            _target_: src.postprocessing.metrics.get_plots_local_utils.method_imshow 
            image_name : change_threshold_true_changes_pred
            real_patch_size: ${real_patch_size_plot}
            resolution: ${resolution}
            cmap: Reds
            norm: null
        - _target_: src.postprocessing.metrics.get_plots_local_utils.graph_model
          idx_row: 0
          idx_col: 2
          graph_title: "GC loss"
          grouping_dates: null
          method_graph: 
            _target_: src.postprocessing.metrics.get_plots_local_utils.method_imshow 
            image_name : change_threshold_gc_loss_pred
            real_patch_size: ${real_patch_size_plot}
            resolution: ${resolution}
            cmap: Reds
            norm: null
        - _target_: src.postprocessing.metrics.get_plots_local_utils.graph_model
          idx_row: 1
          idx_col: 0
          graph_title: "GC loss denoised"
          grouping_dates: null
          method_graph: 
            _target_: src.postprocessing.metrics.get_plots_local_utils.method_imshow 
            image_name : change_threshold_gc_loss_denoised_pred
            real_patch_size: ${real_patch_size_plot}
            resolution: ${resolution}
            cmap: Reds
            norm: null
        - _target_: src.postprocessing.metrics.get_plots_local_utils.graph_model
          idx_row: 1
          idx_col: 1
          graph_title: "Diff h-sera"
          grouping_dates: null
          method_graph: 
            _target_: src.postprocessing.metrics.get_plots_local_utils.method_imshow 
            image_name : change_threshold_diff_h_sera_pred
            real_patch_size: ${real_patch_size_plot}
            resolution: ${resolution}
            cmap: Reds
            norm: null
        - _target_: src.postprocessing.metrics.get_plots_local_utils.graph_model
          idx_row: 1
          idx_col: 2
          graph_title: "Target"
          grouping_dates: null
          method_graph: 
            _target_: src.postprocessing.metrics.get_plots_local_utils.method_imshow 
            image_name : change_threshold_target
            real_patch_size: ${real_patch_size_plot}
            resolution: ${resolution}
            cmap: Reds
            norm: null
        - _target_: src.postprocessing.metrics.get_plots_local_utils.graph_model
          idx_row: 2
          idx_col: 0
          graph_title: "Open Canopy"
          grouping_dates: null
          method_graph: 
            _target_: src.postprocessing.metrics.get_plots_local_utils.method_imshow 
            image_name : change_threshold_open_canopy_pred
            real_patch_size: ${real_patch_size_plot}
            resolution: ${resolution}
            cmap: Reds
            norm: null
        - _target_: src.postprocessing.metrics.get_plots_local_utils.graph_model
          idx_row: 2
          idx_col: 1
          graph_title: "Open Canopy Denoised"
          grouping_dates: null
          method_graph: 
            _target_: src.postprocessing.metrics.get_plots_local_utils.method_imshow 
            image_name : change_threshold_open_canopy_denoised_pred
            real_patch_size: ${real_patch_size_plot}
            resolution: ${resolution}
            cmap: Reds
            norm: null

    individual_plot_sentinel_rgb_t1:
      _target_ : src.postprocessing.metrics.get_plots_local_utils.plot_model
      nb_row: 1
      nb_col : 1
      size_plot_width: 25
      size_plot_height: 25
      graph_list : 
        - _target_: src.postprocessing.metrics.get_plots_local_utils.graph_model
          idx_row: 0
          idx_col: 0
          graph_title: null
          grouping_dates: null
          method_graph: 
            _target_: src.postprocessing.metrics.get_plots_local_utils.method_imshow 
            image_name : sentinel_rgb_t1
            real_patch_size: ${real_patch_size_plot}
            resolution: 10
    
    individual_plot_sentinel_rgb_t2:
      _target_ : src.postprocessing.metrics.get_plots_local_utils.plot_model
      nb_row: 1
      nb_col : 1
      size_plot_width: 25
      size_plot_height: 25
      graph_list : 
        - _target_: src.postprocessing.metrics.get_plots_local_utils.graph_model
          idx_row: 0
          idx_col: 0
          graph_title: null
          grouping_dates: null
          method_graph: 
            _target_: src.postprocessing.metrics.get_plots_local_utils.method_imshow 
            image_name : sentinel_rgb_t2
            real_patch_size: ${real_patch_size_plot}
            resolution: 10

    individual_plot_difference_pred_huber_loss:
      _target_ : src.postprocessing.metrics.get_plots_local_utils.plot_model
      nb_row: 1
      nb_col : 1
      size_plot_width: 25
      size_plot_height: 25
      graph_list : 
        - _target_: src.postprocessing.metrics.get_plots_local_utils.graph_model
          idx_row: 0
          idx_col: 0
          graph_title: null
          grouping_dates: null
          method_graph: 
            _target_: src.postprocessing.metrics.get_plots_local_utils.method_imshow 
            image_name : difference_pred_huber_loss
            real_patch_size: ${real_patch_size_plot}
            resolution: ${resolution}
            cmap: RdYlGn
            norm : 
              _target_: matplotlib.colors.TwoSlopeNorm
              vmin: ${min_diff}
              vcenter: 0
              vmax: ${max_diff}

    individual_plot_difference_pred_true_changes:
      _target_ : src.postprocessing.metrics.get_plots_local_utils.plot_model
      nb_row: 1
      nb_col : 1
      size_plot_width: 25
      size_plot_height: 25
      graph_list : 
        - _target_: src.postprocessing.metrics.get_plots_local_utils.graph_model
          idx_row: 0
          idx_col: 0
          graph_title: null
          grouping_dates: null
          method_graph: 
            _target_: src.postprocessing.metrics.get_plots_local_utils.method_imshow 
            image_name : difference_pred_true_changes
            real_patch_size: ${real_patch_size_plot}
            resolution: ${resolution}
            cmap: RdYlGn
            norm : 
              _target_: matplotlib.colors.TwoSlopeNorm
              vmin: ${min_diff}
              vcenter: 0
              vmax: ${max_diff}

    individual_plot_difference_pred_gc_loss:
      _target_ : src.postprocessing.metrics.get_plots_local_utils.plot_model
      nb_row: 1
      nb_col : 1
      size_plot_width: 25
      size_plot_height: 25
      graph_list : 
        - _target_: src.postprocessing.metrics.get_plots_local_utils.graph_model
          idx_row: 0
          idx_col: 0
          graph_title: null
          grouping_dates: null
          method_graph: 
            _target_: src.postprocessing.metrics.get_plots_local_utils.method_imshow 
            image_name : difference_pred_gc_loss
            real_patch_size: ${real_patch_size_plot}
            resolution: ${resolution}
            cmap: RdYlGn
            norm : 
              _target_: matplotlib.colors.TwoSlopeNorm
              vmin: ${min_diff}
              vcenter: 0
              vmax: ${max_diff}

    individual_plot_difference_pred_gc_loss_denoised:
      _target_ : src.postprocessing.metrics.get_plots_local_utils.plot_model
      nb_row: 1
      nb_col : 1
      size_plot_width: 25
      size_plot_height: 25
      graph_list : 
        - _target_: src.postprocessing.metrics.get_plots_local_utils.graph_model
          idx_row: 0
          idx_col: 0
          graph_title: null
          grouping_dates: null
          method_graph: 
            _target_: src.postprocessing.metrics.get_plots_local_utils.method_imshow 
            image_name : difference_pred_gc_loss_denoised
            real_patch_size: ${real_patch_size_plot}
            resolution: ${resolution}
            cmap: RdYlGn
            norm : 
              _target_: matplotlib.colors.TwoSlopeNorm
              vmin: ${min_diff}
              vcenter: 0
              vmax: ${max_diff}

    individual_plot_difference_pred_diff_h_sera:
      _target_ : src.postprocessing.metrics.get_plots_local_utils.plot_model
      nb_row: 1
      nb_col : 1
      size_plot_width: 25
      size_plot_height: 25
      graph_list : 
        - _target_: src.postprocessing.metrics.get_plots_local_utils.graph_model
          idx_row: 0
          idx_col: 0
          graph_title: null
          grouping_dates: null
          method_graph: 
            _target_: src.postprocessing.metrics.get_plots_local_utils.method_imshow 
            image_name : difference_pred_diff_h_sera
            real_patch_size: ${real_patch_size_plot}
            resolution: ${resolution}
            cmap: RdYlGn
            norm : 
              _target_: matplotlib.colors.TwoSlopeNorm
              vmin: ${min_diff}
              vcenter: 0
              vmax: ${max_diff}
    
    individual_plot_difference_target:
      _target_ : src.postprocessing.metrics.get_plots_local_utils.plot_model
      nb_row: 1
      nb_col : 1
      size_plot_width: 25
      size_plot_height: 25
      graph_list : 
        - _target_: src.postprocessing.metrics.get_plots_local_utils.graph_model
          idx_row: 0
          idx_col: 0
          graph_title: null
          grouping_dates: null
          method_graph: 
            _target_: src.postprocessing.metrics.get_plots_local_utils.method_imshow 
            image_name : difference_target
            real_patch_size: ${real_patch_size_plot}
            resolution: ${resolution}
            cmap: RdYlGn
            norm : 
              _target_: matplotlib.colors.TwoSlopeNorm
              vmin: ${min_diff}
              vcenter: 0
              vmax: ${max_diff}
    
    individual_plot_difference_pred_open_canopy:
      _target_ : src.postprocessing.metrics.get_plots_local_utils.plot_model
      nb_row: 1
      nb_col : 1
      size_plot_width: 25
      size_plot_height: 25
      graph_list : 
        - _target_: src.postprocessing.metrics.get_plots_local_utils.graph_model
          idx_row: 0
          idx_col: 0
          graph_title: null
          grouping_dates: null
          method_graph: 
            _target_: src.postprocessing.metrics.get_plots_local_utils.method_imshow 
            image_name : difference_pred_open_canopy
            real_patch_size: ${real_patch_size_plot}
            resolution: ${resolution}
            cmap: RdYlGn
            norm : 
              _target_: matplotlib.colors.TwoSlopeNorm
              vmin: ${min_diff}
              vcenter: 0
              vmax: ${max_diff}

    individual_plot_difference_pred_open_canopy_denoised:
      _target_ : src.postprocessing.metrics.get_plots_local_utils.plot_model
      nb_row: 1
      nb_col : 1
      size_plot_width: 25
      size_plot_height: 25
      graph_list : 
        - _target_: src.postprocessing.metrics.get_plots_local_utils.graph_model
          idx_row: 0
          idx_col: 0
          graph_title: null
          grouping_dates: null
          method_graph: 
            _target_: src.postprocessing.metrics.get_plots_local_utils.method_imshow 
            image_name : difference_pred_open_canopy_denoised
            real_patch_size: ${real_patch_size_plot}
            resolution: ${resolution}
            cmap: RdYlGn
            norm : 
              _target_: matplotlib.colors.TwoSlopeNorm
              vmin: ${min_diff}
              vcenter: 0
              vmax: ${max_diff}

    individual_plot_change_threshold_hubers_loss_pred:
      _target_ : src.postprocessing.metrics.get_plots_local_utils.plot_model
      nb_row: 1
      nb_col : 1
      size_plot_width: 25
      size_plot_height: 25
      graph_list : 
        - _target_: src.postprocessing.metrics.get_plots_local_utils.graph_model
          idx_row: 0
          idx_col: 0
          graph_title: null
          grouping_dates: null
          method_graph: 
            _target_: src.postprocessing.metrics.get_plots_local_utils.method_imshow 
            image_name : change_threshold_hubers_loss_pred
            real_patch_size: ${real_patch_size_plot}
            resolution: ${resolution}
            cmap: Reds
            norm: null

    individual_plot_change_threshold_true_changes_pred:
      _target_ : src.postprocessing.metrics.get_plots_local_utils.plot_model
      nb_row: 1
      nb_col : 1
      size_plot_width: 25
      size_plot_height: 25
      graph_list : 
        - _target_: src.postprocessing.metrics.get_plots_local_utils.graph_model
          idx_row: 0
          idx_col: 0
          graph_title: null
          grouping_dates: null
          method_graph: 
            _target_: src.postprocessing.metrics.get_plots_local_utils.method_imshow 
            image_name : change_threshold_true_changes_pred
            real_patch_size: ${real_patch_size_plot}
            resolution: ${resolution}
            cmap: Reds
            norm: null

    individual_plot_change_threshold_gc_loss_pred:
      _target_ : src.postprocessing.metrics.get_plots_local_utils.plot_model
      nb_row: 1
      nb_col : 1
      size_plot_width: 25
      size_plot_height: 25
      graph_list : 
        - _target_: src.postprocessing.metrics.get_plots_local_utils.graph_model
          idx_row: 0
          idx_col: 0
          graph_title: null
          grouping_dates: null
          method_graph: 
            _target_: src.postprocessing.metrics.get_plots_local_utils.method_imshow 
            image_name : change_threshold_gc_loss_pred
            real_patch_size: ${real_patch_size_plot}
            resolution: ${resolution}
            cmap: Reds
            norm: null

    individual_plot_change_threshold_gc_loss_denoised_pred:
      _target_ : src.postprocessing.metrics.get_plots_local_utils.plot_model
      nb_row: 1
      nb_col : 1
      size_plot_width: 25
      size_plot_height: 25
      graph_list : 
        - _target_: src.postprocessing.metrics.get_plots_local_utils.graph_model
          idx_row: 0
          idx_col: 0
          graph_title: null
          grouping_dates: null
          method_graph: 
            _target_: src.postprocessing.metrics.get_plots_local_utils.method_imshow 
            image_name : change_threshold_gc_loss_denoised_pred
            real_patch_size: ${real_patch_size_plot}
            resolution: ${resolution}
            cmap: Reds
            norm: null

    individual_plot_change_threshold_diff_h_sera_pred:
      _target_ : src.postprocessing.metrics.get_plots_local_utils.plot_model
      nb_row: 1
      nb_col : 1
      size_plot_width: 25
      size_plot_height: 25
      graph_list : 
        - _target_: src.postprocessing.metrics.get_plots_local_utils.graph_model
          idx_row: 0
          idx_col: 0
          graph_title: null
          grouping_dates: null
          method_graph: 
            _target_: src.postprocessing.metrics.get_plots_local_utils.method_imshow 
            image_name : change_threshold_diff_h_sera_pred
            real_patch_size: ${real_patch_size_plot}
            resolution: ${resolution}
            cmap: Reds
            norm: null

    individual_plot_change_threshold_target:
      _target_ : src.postprocessing.metrics.get_plots_local_utils.plot_model
      nb_row: 1
      nb_col : 1
      size_plot_width: 25
      size_plot_height: 25
      graph_list : 
        - _target_: src.postprocessing.metrics.get_plots_local_utils.graph_model
          idx_row: 0
          idx_col: 0
          graph_title: null
          grouping_dates: null
          method_graph: 
            _target_: src.postprocessing.metrics.get_plots_local_utils.method_imshow 
            image_name : change_threshold_target
            real_patch_size: ${real_patch_size_plot}
            resolution: ${resolution}
            cmap: Reds
            norm: null

    individual_plot_change_threshold_open_canopy_pred:
      _target_ : src.postprocessing.metrics.get_plots_local_utils.plot_model
      nb_row: 1
      nb_col : 1
      size_plot_width: 25
      size_plot_height: 25
      graph_list : 
        - _target_: src.postprocessing.metrics.get_plots_local_utils.graph_model
          idx_row: 0
          idx_col: 0
          graph_title: null
          grouping_dates: null
          method_graph: 
            _target_: src.postprocessing.metrics.get_plots_local_utils.method_imshow 
            image_name : change_threshold_open_canopy_pred
            real_patch_size: ${real_patch_size_plot}
            resolution: ${resolution}
            cmap: Reds
            norm: null

    individual_plot_change_threshold_open_canopy_denoised_pred:
      _target_ : src.postprocessing.metrics.get_plots_local_utils.plot_model
      nb_row: 1
      nb_col : 1
      size_plot_width: 25
      size_plot_height: 25
      graph_list : 
        - _target_: src.postprocessing.metrics.get_plots_local_utils.graph_model
          idx_row: 0
          idx_col: 0
          graph_title: null
          grouping_dates: null
          method_graph: 
            _target_: src.postprocessing.metrics.get_plots_local_utils.method_imshow 
            image_name : change_threshold_open_canopy_denoised_pred
            real_patch_size: ${real_patch_size_plot}
            resolution: ${resolution}
            cmap: Reds
            norm: null



get_plots_global: null